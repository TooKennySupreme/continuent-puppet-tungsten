#!/bin/bash

replication_user=<%= scope.lookupvar('::tungsten::tungsten::repUser') %>
replication_password=<%= scope.lookupvar('::tungsten::tungsten::repPassword') %>
application_user=<%= scope.lookupvar('::tungsten::tungsten::appUser') %>
application_password=<%= scope.lookupvar('::tungsten::tungsten::appPassword')  %>
root_home=<%= scope.lookupvar('::root_home') %>


source /home/oracle/.bash_profile
sqlplus / as sysdba <<EOF
create tablespace tungsten_test datafile '/app/oracle/data/tungsten_test.dbf' size 1000M extent management local autoallocate segment space management auto;
create user $replication_user identified by "$replication_password" default tablespace tungsten_test;
grant connect to tungsten;
alter user tungsten quota unlimited on tungsten_test;
grant create table to tungsten;
grant create view to tungsten;
grant execute on dbms_flashback to tungsten;
EOF
